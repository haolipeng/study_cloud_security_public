 

# Claude Code 官方插件 Feature Dev：7 阶段工作流让功能开发不再翻车

用 AI 写代码最怕什么？**上来就开干，写到一半发现方向错了。**

AI 不理解你的代码库结构，不清楚现有的设计模式，也没问清楚你的真实需求，上来就开始疯狂输出代码。结果往往是：代码风格与项目格格不入，架构设计一塌糊涂，最后还得推倒重来。

Anthropic 官方显然也意识到了这个问题，于是推出了 **Feature Development Plugin**——一个将功能开发拆解为 7 个阶段的结构化工作流插件。

## 核心理念：先理解，再动手

这个插件的设计哲学很简单：

> Building features requires more than just writing code.

开发功能不只是写代码，你需要：

- **在修改之前，先充分理解代码库**
-  **通过提问澄清不明确的需求**
- **在动手实现前，进行周全的设计**

- **构建完成后，进行****质量审查** 

Feature Dev 插件把这些最佳实践固化成了一个 7 阶段的自动化工作流。

## 适用场景

**适合使用的情况**：

- 涉及多个文件的新功能
- 需要架构决策的功能
- 与现有代码的复杂集成
-  需求不太明确的功能

**不适合使用的情况**：

- 单行 bug 修复
- 简单的改动
- 定义清晰的简单任务
- 紧急热修复



## 使用方式

首先安装插件：

```
/plugin marketplace add anthropics/claude-code
/plugin install feature-dev
```



安装插件后，只需一条命令：

```
/feature-dev Add user authentication with OAuth
```

或者直接：

```
/feature-dev
```

然后插件会引导你走完整个流程。

## 7 阶段工作流详解

![](https://gitee.com/codergeek/picgo-image/raw/master/image/202601050944701.png)

## 

### Phase 1: Discovery（需求理解）

**目标**：搞清楚到底要构建什么

这个阶段 Claude 会：

- 澄清模糊的功能请求
- 询问你要解决什么问题
- 识别约束和需求
- 总结理解并与你确认

------

### Phase 2: Codebase Exploration（代码库探索）

**目标**：理解相关的现有代码和模式

这是最惊艳的阶段。Claude 会：

- 并行启动 2-3 个 `code-explorer` 智能体
- 每个智能体探索不同方面（相似功能、架构、UI 模式）
- 返回全面的分析报告和关键文件列表
- Claude 读取所有识别出的文件，建立深度理解

这意味着 Claude 在动手之前，已经摸清了你的代码库是怎么组织的、用了什么模式、类似功能是怎么实现的。

------

### Phase 3: Clarifying Questions（澄清问题）

**目标**：填补空白，解决所有歧义

这个阶段 Claude 会：

- 审查代码库发现和功能请求
- 识别未明确的方面：边界情况、错误处理、集成点、向后兼容性、性能需求
- 以有组织的列表呈现所有问题
- **等待你的回答后才继续**

这个阶段确保在设计开始前没有任何模糊地带。

------

### Phase 4: Architecture Design（架构设计）

**目标**：设计多个实现方案

Claude 会并行启动 2-3 个 `code-architect` 智能体，分别从不同角度设计：

- **最小改动方案**：改动最少，最大化复用
- **优雅架构方案**：可维护性强，抽象优雅
- **务实平衡方案**：速度与质量的平衡

然后 Claude 会：

- 审查所有方案
- 形成自己的意见，推荐最适合当前任务的方案
- 呈现比较和权衡
- **询问你更偏好哪个方案**

------

### Phase 5: Implementation（实现）

**目标**：构建功能

这个阶段：

- **等待你的明确批准** 后才开始
- 读取前面阶段识别的所有相关文件
- 按照选定的架构实现
- 严格遵循代码库约定
- 编写干净、有文档的代码
- 实时更新进度

注意：实现严格遵循 Phase 2 发现的模式和 Phase 4 设计的架构。

------

### Phase 6: Quality Review（质量审查）

**目标**：确保代码简洁、DRY、优雅且功能正确

Claude 会并行启动 3 个 `code-reviewer` 智能体，分别关注：

- **简洁性/DRY/优雅性**：代码质量和可维护性
- **Bug/正确性**：功能正确性和逻辑错误
- **约定/抽象**：项目标准和模式

然后：

- 汇总发现
- 识别最高严重性的问题
- **呈现发现并询问你想怎么处理**：现在修复、稍后修复、或按现状继续

------

### Phase 7: Summary（总结）

**目标**：记录完成的工作

最后阶段会：

- 标记所有待办事项完成
- 总结：构建了什么、做出的关键决策、修改的文件、建议的后续步骤



## 我的体验总结

完整走完这 7 个阶段后，我最大的感受是：**终于有了「靠谱」的感觉。**

以前用 AI 写复杂功能，总是心里没底——不知道它理解了多少，不知道它会写出什么样的代码。现在每个阶段都有明确的产出和确认点，你能清楚地知道 AI 理解了什么、打算怎么做、做出来的质量如何。

特别是 Phase 2 的代码库探索和 Phase 4 的多方案设计，让 AI 辅助开发从「盲人摸象」变成了「有章可循」。

 